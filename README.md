# Генератор статей для страйкбола

Веб-приложение для генерации статей о страйкболе на русском и украинском языках с использованием LM Studio.

## Требования

- Python 3.8+
- LM Studio (локально запущенный)
- Модель gemma-3-4b-it-qat (рекомендуется) или другие совместимые с LM Studio модели

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/generationTextSerega.git
cd generationTextSerega
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv .venv
# Для Windows:
.venv\Scripts\activate
# Для Linux/Mac:
source .venv/bin/activate
```

3. Установите зависимости:
```bash
python -m pip install -r requirements.txt
```

## Настройка

1. Запустите LM Studio и загрузите модель gemma-3-4b-it-qat (или другую совместимую модель)
2. В LM Studio нажмите "Start Local Server" для запуска локального сервера на порту 1234
3. Приложение будет автоматически использовать настройки из файла `config.json` (создается автоматически при первом запуске)

## Запуск

Есть несколько способов запуска приложения:

### Быстрый запуск (рекомендуется)

Просто выполните команду:
```bash
python run.py
```

Это запустит приложение и автоматически откроет браузер. При запуске будет проверено соединение с LM Studio.

### Дополнительные опции запуска

```bash
# Запуск без открытия браузера
python run.py --no-browser

# Запуск на другом порту
python run.py --port 8080

# Запуск с пропуском проверки соединения с LM Studio
python run.py --skip-check

# Запуск с доступом из сети
python run.py --host 0.0.0.0
```

### Запуск веб-приложения напрямую

```bash
python src/web_app.py
```

## Использование

1. Откройте веб-интерфейс по адресу http://localhost:5000
2. Выберите язык (русский или украинский)
3. Выберите категорию
4. Выберите тему из списка
5. Нажмите "Сгенерировать статью"
6. Дождитесь генерации (может занять несколько минут)
7. Просмотрите результат и скачайте статью в нужном формате

## Структура проекта

```
generationTextSerega/
├── src/
│   ├── config/          # Конфигурация приложения
│   │   └── config.py
│   ├── core/            # Основная логика генерации статей
│   │   └── article_generator.py
│   ├── models/          # Модели данных
│   │   └── article.py
│   ├── services/        # Сервисы для работы с API и обработки данных
│   │   ├── lm_service.py
│   │   └── quality_checker.py
│   ├── templates/       # Шаблоны веб-интерфейса
│   │   └── index.html
│   ├── static/          # Статические файлы (CSS, JavaScript)
│   ├── data/            # Данные для генерации статей
│   └── web_app.py       # Основное веб-приложение
├── articles/            # Сгенерированные статьи
├── run.py              # Скрипт для удобного запуска
├── requirements.txt
└── README.md
```

## Особенности

- Генерация статей на двух языках (русский и украинский)
- Проверка качества текста (читабельность, ключевые слова, структура)
- Сохранение статей в форматах TXT, Markdown и HTML
- Веб-интерфейс с удобным выбором категорий и тем
- Подробный отчет о качестве сгенерированного текста
- Автоматическая проверка соединения с LM Studio

## Категории и темы

### Снаряжение / Обладнання
- Выбор тактического жилета для страйкбола
- Защитное снаряжение для новичков
- Модернизация газовых приводов
- Выбор оптического прицела
- Уход за аккумуляторами LiPo
- Системы разгрузки и ношения снаряжения
- Выбор правильного шлема и защиты головы

### Техническое / Технічне
- Настройка hop-up в электроприводах
- Тюнинг внутренних деталей привода
- Диагностика неисправностей приводов
- Модернизация ствола и резинки hop-up
- Настройка регулятора давления в HPA системах

### Тактика / Тактика
- Тактика ведения боя в CQB
- Камуфляж для лесных игр
- Снайперская стрельба в страйкболе
- Командная работа и связь
- Позиционирование и перемещение в команде
- Планирование и выполнение тактических операций

## Устранение неполадок

1. Если LM Studio не отвечает:
   - Проверьте, что LM Studio запущен
   - Убедитесь, что модель загружена
   - Проверьте, что локальный сервер запущен в LM Studio (кнопка "Start Local Server")
   - Проверьте доступность http://localhost:1234/v1/models

2. Если генерация занимает слишком много времени:
   - Уменьшите параметр max_tokens в конфигурации (см. config.json)
   - Проверьте загрузку системы
   - Используйте более быструю модель в LM Studio

3. Если качество текста низкое:
   - Проверьте настройки температуры в конфигурации
   - Убедитесь, что используете модель с хорошим качеством генерации
   - Попробуйте перегенерировать статью

## Настройка конфигурации

При первом запуске создается файл `config.json` с настройками по умолчанию. Вы можете изменить эти настройки:

```json
{
  "lm_studio": {
    "url": "http://localhost:1234/v1/chat/completions",
    "model": "gemma-3-4b-it-qat",
    "max_tokens": 2500,
    "temperature": 0.7,
    "timeout": 60
  },
  "article_settings": {
    "min_word_count": 800,
    "max_word_count": 1200,
    "target_readability": 7.0,
    "max_retries": 3
  },
  "output": {
    "articles_dir": "articles",
    "backup_dir": "backups",
    "formats": ["txt", "markdown", "html"]
  },
  "web": {
    "host": "localhost",
    "port": 5000,
    "debug": false
  }
}
```

## Лицензия

MIT License 